/*!
 *  build: Vue  Admin Plus
 *  copyright: vue-admin-beautiful.com
 *  time: 2023-08-28 11:15:16
 */
"use strict";(self["webpackChunkadmin_plus"]=self["webpackChunkadmin_plus"]||[]).push([[2584,9527],{32134:function(e,t,n){n.d(t,{IP:function(){return c},MB:function(){return i},PN:function(){return o},YZ:function(){return d},iv:function(){return r},qb:function(){return s},tS:function(){return l},vP:function(){return u}});var a=n(52806);function i(e){return(0,a.Z)({params:{method:"idc.get",data:e}})}function c(e){return(0,a.Z)({params:{method:"idc.create",data:e}})}function l(e){return(0,a.Z)({params:{method:"idc.update",data:e}})}function o(e){return(0,a.Z)({params:{method:"idc.delete",data:e}})}function d(e){return(0,a.Z)({params:{method:"house.get",data:e}})}function u(e){return(0,a.Z)({params:{method:"house.create",data:e}})}function r(e){return(0,a.Z)({params:{method:"house.update",data:e}})}function s(e){return(0,a.Z)({params:{method:"house.delete",data:e}})}},51006:function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});var a=n(64654),i=(n(24549),n(16135),n(49530)),c=(n(80773),n(46538)),l=(n(92719),n(20822),n(57658),n(66252)),o=n(2262),d=n(3577),u=n(39049),r=n(32134);const s={class:"device-list"},h={class:"device-list-content"},m={class:"item-total"};var f={__name:"SelectRoom",props:{type:{type:String,default:""},checkedData:{type:Array,default:()=>[]},title:{type:String,default:"选择设备"},selectDeviceData:{type:Object,default:()=>({})},visible:{type:Boolean,default:!1}},emits:["selectData","cancel","confirm"],setup(e,{emit:t}){const n=e,{type:f,checkedData:k,title:p,visible:g}=(0,o.BK)(n),v=(0,o.qj)({checkAll:!1,loading:!1,isIndeterminate:!1,deviceData:[],checkedCities:[],idkey:[]});function y(){v.loading=!0,(0,r.MB)({selectHosts:"count"}).then((e=>{e.error||(v.loading=!1,v.deviceData=e,w())})).catch((e=>{v.loading=!1,console.log("err :>> ",e)}))}function D(){v.loading=!0,v.houseData=[],(0,r.YZ)({selectHosts:"count"}).then((e=>{e.error||(v.loading=!1,v.deviceData=e,w())})).catch((e=>{console.log(e),v.loading=!1}))}function w(){v.checkAll=v.checkedCities.length===v.deviceData.length,v.isIndeterminate=v.checkedCities.length>0&&v.checkedCities.length<v.deviceData.length}function C(e){const t=[];for(let n=0;n<v.deviceData.length;n++){const e=v.deviceData[n];t.push(e[v.idkey])}v.checkedCities=e?t:[],v.isIndeterminate=!1,S()}function U(e){v.checkAll=e.length===v.deviceData.length,v.isIndeterminate=e.length>0&&e.length<v.deviceData.length,S()}function S(){const e=[];for(let t=0;t<v.checkedCities.length;t++){const n=v.checkedCities[t],a=v.deviceData.find((e=>e[v.idkey]===n));a&&e.push(a)}t("selectData",e)}function _(){t("cancel")}function b(){t("cancel"),t("confirm",v.checkedCities)}return(0,l.bv)((()=>{"1"===f.value?(v.idkey="houseid",D()):"2"===f.value&&(v.idkey="idcid",y());const e=[];for(let t=0;t<k.value.length;t++){const n=k.value[t];e.push(n[v.idkey])}v.checkedCities=e,w()})),(e,t)=>{const n=c.ElCheckbox,r=c.z5,f=i.ElButton,k=a.t;return(0,l.wg)(),(0,l.j4)((0,o.SU)(u["default"]),{modelValue:(0,o.SU)(g),"onUpdate:modelValue":[t[2]||(t[2]=e=>(0,o.dq)(g)?g.value=e:null),_],title:(0,o.SU)(p),width:"24rem",class:"device-dialog"},{footer:(0,l.w5)((()=>[(0,l.Wm)(f,{onClick:_},{default:(0,l.w5)((()=>[(0,l.Uk)("取消")])),_:1}),(0,l.Wm)(f,{type:"primary",onClick:b},{default:(0,l.w5)((()=>[(0,l.Uk)("确定")])),_:1})])),default:(0,l.w5)((()=>[(0,l._)("div",s,[(0,l.Wm)(n,{modelValue:(0,o.SU)(v).checkAll,"onUpdate:modelValue":t[0]||(t[0]=e=>(0,o.SU)(v).checkAll=e),indeterminate:(0,o.SU)(v).isIndeterminate,onChange:C},{default:(0,l.w5)((()=>[(0,l.Uk)(" 全选 ")])),_:1},8,["modelValue","indeterminate"]),(0,l.Wm)(r,{modelValue:(0,o.SU)(v).checkedCities,"onUpdate:modelValue":t[1]||(t[1]=e=>(0,o.SU)(v).checkedCities=e),onChange:U},{default:(0,l.w5)((()=>[(0,l.wy)(((0,l.wg)(),(0,l.iD)("ul",h,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,o.SU)(v).deviceData,((e,t)=>((0,l.wg)(),(0,l.iD)("li",{key:t,class:"device-item"},[(0,l.Wm)(n,{label:e[(0,o.SU)(v).idkey]},{default:(0,l.w5)((()=>[(0,l.Uk)((0,d.zw)(e.name),1)])),_:2},1032,["label"]),(0,l._)("span",m,(0,d.zw)(e.hosts)+"台设备",1)])))),128))])),[[k,(0,o.SU)(v).loading]])])),_:1},8,["modelValue"])])])),_:1},8,["modelValue","title"])}}};function k(e){e.__source="src/views/problem/alarm-setting/alarm-notify-detail/SelectRoom.vue"}var p=n(83744);"function"===typeof k&&k(f);const g=(0,p.Z)(f,[["__scopeId","data-v-15ae75a0"]]);var v=g}}]);