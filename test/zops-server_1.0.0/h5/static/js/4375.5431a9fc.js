/*!
 *  build: Vue  Admin Plus
 *  copyright: vue-admin-beautiful.com
 *  time: 2023-08-28 11:15:16
 */
"use strict";(self["webpackChunkadmin_plus"]=self["webpackChunkadmin_plus"]||[]).push([[4375],{34713:function(e,t,l){l.r(t),l.d(t,{default:function(){return v}});var n=l(49530),a=(l(24549),l(80773),l(21211)),o=(l(12791),l(53202)),i=(l(82506),l(6715),l(57847)),d=(l(43872),l(66252)),r=l(2262),u=l(49963),s=l(39049),c=l(94577),p={__name:"AssetTypeInfo",props:{assetTypeInfoData:{type:Object,default:()=>({})},title:{type:String,default:"新建资产类型"},type:{type:String,default:"new"},visible:{type:Boolean,default:!1}},emits:["cancel","confirm"],setup(e,{emit:t}){const l=e,p={name:[{required:!0,message:"请输入机房名称",trigger:"blur"}]},m=(0,d.f3)("$baseMessage"),f=(0,r.iH)(null),y={children:"children",label:"name",id:"inventory_typeid"},{title:v,type:_,visible:h,assetTypeInfoData:U}=(0,r.BK)(l),w=(0,r.iH)([]),b=(e,t)=>{(0,c._T)({fid:e?.data?.inventory_typeid||"0"}).then((e=>{!e.error&&e.length&&t(e)})).catch((e=>{console.log("err :>> ",e)}))};function g(){t("cancel")}function S(){f.value.validate((e=>{if(e){const e={name:U.value.name,fid:U.value.fid||0,description:U.value.description};"new"===_.value?(0,c.Nl)(e).then((e=>{e.error||(m("新建资产类型成功","success"),t("cancel"),t("confirm"))})):(e.inventory_typeid=U.value.inventory_typeid,(0,c.Rt)(e).then((e=>{e.error||(m("编辑资产类型成功","success"),t("cancel"),t("confirm"))})))}}))}function k(){(0,c._T)({inventory_typeids:[U.value.fid]}).then((e=>{!e.error&&e.length&&(w.value=e[0].fathers)})).catch((e=>{console.log("err :>> ",e)}))}return(0,d.bv)((()=>{U.value.fid&&k()})),(e,t)=>{const l=i.EZ,c=a.nH,m=o.i,_=a.ly,k=n.ElButton;return(0,d.wg)(),(0,d.j4)((0,r.SU)(s["default"]),{modelValue:(0,r.SU)(h),"onUpdate:modelValue":[t[4]||(t[4]=e=>(0,r.dq)(h)?h.value=e:null),g],title:(0,r.SU)(v),width:"30rem"},{footer:(0,d.w5)((()=>[(0,d.Wm)(k,{onClick:g},{default:(0,d.w5)((()=>[(0,d.Uk)("取消")])),_:1}),(0,d.Wm)(k,{type:"primary",onClick:S},{default:(0,d.w5)((()=>[(0,d.Uk)("确定")])),_:1})])),default:(0,d.w5)((()=>[(0,d.Wm)(_,{ref_key:"machineRoomFormRef",ref:f,"label-position":"top",model:(0,r.SU)(U),rules:p,onSubmit:t[3]||(t[3]=(0,u.iM)((()=>{}),["prevent"]))},{default:(0,d.w5)((()=>[(0,d.Wm)(c,{label:"资产名称",prop:"name"},{default:(0,d.w5)((()=>[(0,d.Wm)(l,{modelValue:(0,r.SU)(U).name,"onUpdate:modelValue":t[0]||(t[0]=e=>(0,r.SU)(U).name=e),modelModifiers:{trim:!0},placeholder:"请输入资产名称",maxlength:"100"},null,8,["modelValue"])])),_:1}),(0,d.Wm)(c,{label:"选择上级分类",prop:"fid"},{default:(0,d.w5)((()=>[(0,d.Wm)(m,{modelValue:(0,r.SU)(U).fid,"onUpdate:modelValue":t[1]||(t[1]=e=>(0,r.SU)(U).fid=e),class:"input-select","check-strictly":"",lazy:"","default-expanded-keys":(0,r.SU)(w),props:y,"node-key":"inventory_typeid",load:b,"render-after-expand":!1},null,8,["modelValue","default-expanded-keys"])])),_:1}),(0,d.Wm)(c,{label:"描述",prop:"description"},{default:(0,d.w5)((()=>[(0,d.Wm)(l,{modelValue:(0,r.SU)(U).description,"onUpdate:modelValue":t[2]||(t[2]=e=>(0,r.SU)(U).description=e),modelModifiers:{trim:!0},rows:3,maxlength:"255",type:"textarea",placeholder:"请输入"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue","title"])}}};function m(e){e.__source="src/views/assets-management/components/AssetTypeInfo.vue"}var f=l(83744);"function"===typeof m&&m(p);const y=(0,f.Z)(p,[["__scopeId","data-v-617ea7c9"]]);var v=y}}]);