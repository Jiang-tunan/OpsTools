/*!
 *  build: Vue  Admin Plus
 *  copyright: vue-admin-beautiful.com
 *  time: 2023-08-28 11:15:16
 */
"use strict";(self["webpackChunkadmin_plus"]=self["webpackChunkadmin_plus"]||[]).push([[9461],{18907:function(e,t,a){a.d(t,{KW:function(){return i},Kj:function(){return f},Ld:function(){return o},Ob:function(){return c},Ox:function(){return p},Wh:function(){return d},XF:function(){return r},bm:function(){return s},uX:function(){return l},v0:function(){return u},y2:function(){return m}});var n=a(52806);function r(e){return(0,n.Z)({params:{method:"host.get",data:e}})}function l(e){return(0,n.Z)({params:{method:"host.exportinventory",data:e}})}function i(e){return(0,n.Z)({params:{method:"host.update",data:e}})}function o(e){return(0,n.Z)({params:{method:"host.create",data:e}})}function s(e){return(0,n.Z)({params:{method:"host.discoverupdate",data:e}})}function p(e){return(0,n.Z)({params:{method:"host.delete",data:e}})}function u(e){return(0,n.Z)({params:{method:"hostgroup.get",data:e}})}function d(e){return(0,n.Z)({params:{method:"modeltype.create",data:e}})}function c(e){return(0,n.Z)({params:{method:"modeltype.get",data:e}})}function m(e){return(0,n.Z)({params:{method:"modeltype.update",data:e}})}function f(e){return(0,n.Z)({params:{method:"modeltype.delete",data:e}})}},83954:function(e,t,a){a.d(t,{$C:function(){return u},AX:function(){return o},C$:function(){return m},QB:function(){return l},Rg:function(){return s},UX:function(){return i},VZ:function(){return r},g4:function(){return d},tE:function(){return p},yj:function(){return c}});var n=a(52806);function r(e){return(0,n.Z)({params:{method:"template.get",data:e}})}function l(e){return(0,n.Z)({params:{method:"template.update",data:e}})}function i(e){return(0,n.Z)({params:{method:"trigger.get",data:e}})}function o(e){return(0,n.Z)({params:{method:"trigger.update",data:e}})}function s(e){return(0,n.Z)({params:{method:"trigger.enabletrigger",data:e}})}function p(e){return(0,n.Z)({params:{method:"trigger.recover",data:e}})}function u(e){return(0,n.Z)({params:{method:"item.get",data:e}})}function d(e){return(0,n.Z)({params:{method:"item.update",data:e}})}function c(e){return(0,n.Z)({params:{method:"item.enable",data:e}})}function m(e){return(0,n.Z)({params:{method:"item.interfacelist",data:e}})}},79461:function(e,t,a){a.r(t),a.d(t,{default:function(){return q}});var n=a(64654),r=(a(24549),a(16135),a(88027)),l=(a(66302),a(737),a(50952)),i=(a(83646),a(49530)),o=(a(80773),a(66252)),s=a(2262),p=a(3577),u=a(18907),d=a(51640),c=a(93566),m=a(22201);const f=e=>((0,o.dD)("data-v-9f3bbf70"),e=e(),(0,o.Cn)(),e),b={class:"descriptions-label"},y=f((()=>(0,o._)("span",{class:"descriptions-name"},"CPU核数：",-1))),g={key:0},_={key:1};var D={__name:"DeviceInfo",setup(e){const t={0:"启用中",1:"已停用",2:"未纳管"},a=(0,m.yj)(),f=(0,s.iH)([{prop:"name",label:"设备名称",className:"device-name",isDisabled:!0},{prop:"ip",label:"IP 地址"},{prop:"physical_serial",label:"序列号"},{prop:"create_time",label:"纳管时间"},{prop:"status",label:"操作系统",renderVal:()=>t[v.equipmentData.status]||"---"},{prop:"manufacturer",label:"厂商",renderVal:()=>v.equipmentData.modeltype?.manufacturer?.name||"---"},{prop:"physical_model",label:"型号"},{prop:"groups",label:"设备类型",renderVal:()=>v.equipmentData.groups?v.equipmentData.groups[0]?.name:"---"},{prop:"cpu_num",label:"CPU",renderVal:()=>v.equipmentData.cpu_num?`${v.equipmentData.cpu_num}核`:"---"},{prop:"memory_total",label:"内存",renderVal:()=>v.equipmentData.memory_total?`${v.equipmentData.memory_total}GB`:"---"},{prop:"storage_total",label:"存储",renderVal:()=>v.equipmentData.storage_total?`${v.equipmentData.storage_total}GB`:"---"},{prop:"host",label:"MAC地址"},{prop:"structure",label:"外型结构",renderVal:()=>v.equipmentData.modeltype?.structure||"---"},{prop:"spec",label:"规格",renderVal:()=>v.equipmentData.modeltype?.spec||"---"},{prop:"unumber",label:"U数",renderVal:()=>v.equipmentData.modeltype?.unumber||"---"},{prop:"max_memory_count",label:"最大内存数",renderVal:()=>v.equipmentData.modeltype?.max_memory_count||"---"},{prop:"description",label:"描述",span:2,renderVal:()=>v.equipmentData.modeltype?.description||"---"}]),D=[{prop:"idc",label:"数据中心",renderVal:()=>v.equipmentData.idc?.name||"---"},{prop:"house",label:"所属机房",renderVal:()=>v.equipmentData.house?.name||"---"},{prop:"username",label:"设备负责人",renderVal:()=>v.equipmentData.house?.user?.username||"---"},{prop:"InventoryType",label:"资产类型",renderVal:()=>v.equipmentData.InventoryType?.name||"---"}],v=(0,s.qj)({equipmentData:{},listLoading:!0,isNetwork:!0,detailsData:{title:"网卡详情",type:"0",visible:!1,data:{}}});function h(){v.listLoading=!0,(0,u.XF)({output:"extend",selectGroups:"extend",selectIDC:"extend",selectInterfaces:"extend",selectManufacturer:"extend",selectModelType:"extend",selectInventoryType:"extend",selectParentTemplates:["name","templateid"],selectHouse:"extend",hostids:[a.query.hostid],getHistory:!0}).then((e=>{e.error||(v.equipmentData=e[0],v.isNetwork="虚拟机"===v.equipmentData.parentTemplates[0]?.templatename||"x86服务器"===v.equipmentData.parentTemplates[0]?.templatename||"超融合"===v.equipmentData.parentTemplates[0]?.templatename,v.isNetwork?f.value.splice(12,0,{prop:"network_card",label:"网卡数",isRender:!0}):f.value.splice(12,0,{prop:"ports_num",label:"端口数量",isRender:!0})),v.listLoading=!1})).catch((e=>{console.log(e),v.listLoading=!1}))}function w(){v.detailsData={title:v.isNetwork?"网卡详情":"端口详情",type:v.isNetwork?"0":"1",visible:!0,data:{hostid:v.equipmentData.hostid}}}function q(){v.detailsData.visible=!1}return(0,o.bv)((()=>{h()})),(e,t)=>{const a=(0,o.up)("vab-icon"),u=i.ElButton,m=l.Q0,h=r.QQ,k=r.Lf,U=n.t;return(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(d["default"],{"equipment-data":(0,s.SU)(v).equipmentData},null,8,["equipment-data"]),(0,o.Wm)(k,{class:"descriptions-container",title:"硬件信息信息",column:4,border:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,s.SU)(f),((t,n)=>((0,o.wg)(),(0,o.j4)(h,{key:n,label:t.label+"：","class-name":t.className,span:t.span||1},(0,o.Nv)({default:(0,o.w5)((()=>[t.isRender?(0,o.WI)(e.$slots,"default",{key:0},(()=>["network_card"===t.prop?((0,o.wg)(),(0,o.iD)("div",g,[(0,o._)("span",null,(0,p.zw)((0,s.SU)(v).equipmentData[t.prop]||0)+" 张",1),(0,s.SU)(v).equipmentData[t.prop]?((0,o.wg)(),(0,o.j4)(u,{key:0,type:"primary",text:"",onClick:w},{default:(0,o.w5)((()=>[(0,o.Uk)(" (详情) ")])),_:1})):(0,o.kq)("",!0)])):"ports_num"===t.prop?((0,o.wg)(),(0,o.iD)("div",_,[(0,o._)("span",null,(0,p.zw)((0,s.SU)(v).equipmentData[t.prop]||0)+" 张",1),(0,s.SU)(v).equipmentData[t.prop]?((0,o.wg)(),(0,o.j4)(u,{key:0,type:"primary",text:"",onClick:w},{default:(0,o.w5)((()=>[(0,o.Uk)(" (详情) ")])),_:1})):(0,o.kq)("",!0)])):(0,o.kq)("",!0)])):((0,o.wg)(),(0,o.j4)(m,{key:1,disabled:!t.isDisabled},{content:(0,o.w5)((()=>[(0,o.Uk)((0,p.zw)(t.renderVal?t.renderVal():(0,s.SU)(v).equipmentData[t.prop]||"---"),1)])),default:(0,o.w5)((()=>[(0,o.Uk)(" "+(0,p.zw)(t.renderVal?t.renderVal():(0,s.SU)(v).equipmentData[t.prop]||"---"),1)])),_:2},1032,["disabled"]))])),_:2},["cpu_util"===t.prop?{name:"label",fn:(0,o.w5)((()=>[(0,o._)("div",b,[(0,o.Wm)(a,{icon:"cpu-line",class:"descriptions-icon"}),y])])),key:"0"}:"memory_total"===t.prop?{name:"label",fn:(0,o.w5)((()=>[(0,o._)("div",{class:"descriptions-label"},[(0,o.Wm)(a,{icon:"cpu-line",class:"descriptions-icon"}),(0,o._)("span",{class:"descriptions-name"},"内存：")])])),key:"1"}:"storage_total"===t.prop?{name:"label",fn:(0,o.w5)((()=>[(0,o._)("div",{class:"descriptions-label"},[(0,o.Wm)(a,{icon:"cpu-line",class:"descriptions-icon"}),(0,o._)("span",{class:"descriptions-name"},"存储：")])])),key:"2"}:"host"===t.prop?{name:"label",fn:(0,o.w5)((()=>[(0,o._)("div",{class:"descriptions-label"},[(0,o.Wm)(a,{icon:"cpu-line",class:"descriptions-icon"}),(0,o._)("span",{class:"descriptions-name"},"MAC地址：")])])),key:"3"}:"ports_num"===t.prop?{name:"label",fn:(0,o.w5)((()=>[(0,o._)("div",{class:"descriptions-label"},[(0,o.Wm)(a,{icon:"cpu-line",class:"descriptions-icon"}),(0,o._)("span",{class:"descriptions-name"},"端口数量：")])])),key:"4"}:void 0]),1032,["label","class-name","span"])))),128))])),_:3}),(0,o.Wm)(k,{class:"descriptions-container",title:"其他信息",column:4,border:""},{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(D,((e,t)=>(0,o.Wm)(h,{key:t,label:e.label+"：","class-name":e.className},{default:(0,o.w5)((()=>[(0,o.Uk)((0,p.zw)(e.renderVal?e.renderVal():(0,s.SU)(v).equipmentData[e.prop]||"---"),1)])),_:2},1032,["label","class-name"]))),64))])),_:1}),(0,s.SU)(v).detailsData.visible?((0,o.wg)(),(0,o.j4)(c["default"],{key:0,"details-data":(0,s.SU)(v).detailsData.data,title:(0,s.SU)(v).detailsData.title,type:(0,s.SU)(v).detailsData.type,visible:(0,s.SU)(v).detailsData.visible,onCancel:q},null,8,["details-data","title","type","visible"])):(0,o.kq)("",!0)])),[[U,(0,s.SU)(v).listLoading]])}}};function v(e){e.__source="src/components/DeviceInfo.vue"}var h=a(83744);"function"===typeof v&&v(D);const w=(0,h.Z)(D,[["__scopeId","data-v-9f3bbf70"]]);var q=w},93566:function(e,t,a){a.r(t),a.d(t,{default:function(){return m}});var n=a(66252),r=a(2262),l=a(3577),i=a(39049),o=a(83954),s=a(5743),p={__name:"NetworkPortsDialog",props:{detailsData:{type:Object,default:()=>({})},title:{type:String,default:"移动资产"},visible:{type:Boolean,default:!1},type:{type:String,default:"0"}},emits:["cancel"],setup(e,{emit:t}){const a=e,p=[{label:"网卡名称",prop:"name",tooltip:!0},{label:"支持速率",prop:"value",tooltip:!0,isRender:!0,width:"110"},{label:"状态",width:"80",prop:"status",tooltip:!0,isRender:!0}],{title:u,visible:d,type:c,detailsData:m}=(0,r.BK)(a),f=(0,r.iH)({hostids:m.value.hostids,current:1,limit:10,type:c.value}),b=(0,r.qj)({total:0,listLoading:!0,listData:[]}),y=e=>{f.value.limit=e,_()},g=e=>{f.value.current=e,_()};function _(){b.listLoading=!0,(0,o.C$)(f.value).then((e=>{b.listLoading=!1,e.error||(b.listData=e)})).catch((e=>{console.log("error :>> ",e),b.listLoading=!1}))}function D(){t("cancel")}return(0,n.bv)((()=>{_()})),(e,t)=>((0,n.wg)(),(0,n.j4)((0,r.SU)(i["default"]),{modelValue:(0,r.SU)(d),"onUpdate:modelValue":[t[0]||(t[0]=e=>(0,r.dq)(d)?d.value=e:null),D],title:(0,r.SU)(u),width:"30rem"},{default:(0,n.w5)((()=>[(0,n.Wm)(s["default"],{ref:"userTableRef","max-height":"31.5rem","list-loading":(0,r.SU)(b).listLoading,"list-data":(0,r.SU)(b).listData,"column-list":p,total:(0,r.SU)(b).total,"page-no":(0,r.SU)(f).current,"page-size":(0,r.SU)(f).limit,"is-selection":!1,"is-index":!0,layout:"prev, pager, next",onSizeChange:y,onCurrentChange:g},{value:(0,n.w5)((({row:e})=>[(0,n.Uk)((0,l.zw)(e.value||0)+" Mbps",1)])),status:(0,n.w5)((({row:e})=>[(0,n._)("span",{class:(0,l.C_)("status-"+e.status)},(0,l.zw)("1"===e.status?"Up":"Down"),3)])),_:1},8,["list-loading","list-data","total","page-no","page-size"])])),_:1},8,["modelValue","title"]))}};function u(e){e.__source="src/components/NetworkPortsDialog.vue"}var d=a(83744);"function"===typeof u&&u(p);const c=(0,d.Z)(p,[["__scopeId","data-v-8f84e54a"]]);var m=c}}]);