/*!
 *  build: Vue  Admin Plus
 *  copyright: vue-admin-beautiful.com
 *  time: 2023-08-28 11:15:16
 */
"use strict";(self["webpackChunkadmin_plus"]=self["webpackChunkadmin_plus"]||[]).push([[4469,9527,4375],{94577:function(e,t,n){n.d(t,{Nl:function(){return o},Oc:function(){return i},Rt:function(){return r},_T:function(){return l}});var a=n(52806);function l(e){return(0,a.Z)({params:{method:"inventorytype.get",data:e}})}function o(e){return(0,a.Z)({params:{method:"inventorytype.create",data:e}})}function r(e){return(0,a.Z)({params:{method:"inventorytype.update",data:e}})}function i(e){return(0,a.Z)({params:{method:"inventorytype.delete",data:e}})}},34713:function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});var a=n(49530),l=(n(24549),n(80773),n(21211)),o=(n(12791),n(53202)),r=(n(82506),n(6715),n(57847)),i=(n(43872),n(66252)),d=n(2262),u=n(49963),c=n(39049),s=n(94577),p={__name:"AssetTypeInfo",props:{assetTypeInfoData:{type:Object,default:()=>({})},title:{type:String,default:"新建资产类型"},type:{type:String,default:"new"},visible:{type:Boolean,default:!1}},emits:["cancel","confirm"],setup(e,{emit:t}){const n=e,p={name:[{required:!0,message:"请输入机房名称",trigger:"blur"}]},m=(0,i.f3)("$baseMessage"),f=(0,d.iH)(null),y={children:"children",label:"name",id:"inventory_typeid"},{title:v,type:h,visible:_,assetTypeInfoData:U}=(0,d.BK)(n),w=(0,d.iH)([]),g=(e,t)=>{(0,s._T)({fid:e?.data?.inventory_typeid||"0"}).then((e=>{!e.error&&e.length&&t(e)})).catch((e=>{console.log("err :>> ",e)}))};function b(){t("cancel")}function S(){f.value.validate((e=>{if(e){const e={name:U.value.name,fid:U.value.fid||0,description:U.value.description};"new"===h.value?(0,s.Nl)(e).then((e=>{e.error||(m("新建资产类型成功","success"),t("cancel"),t("confirm"))})):(e.inventory_typeid=U.value.inventory_typeid,(0,s.Rt)(e).then((e=>{e.error||(m("编辑资产类型成功","success"),t("cancel"),t("confirm"))})))}}))}function k(){(0,s._T)({inventory_typeids:[U.value.fid]}).then((e=>{!e.error&&e.length&&(w.value=e[0].fathers)})).catch((e=>{console.log("err :>> ",e)}))}return(0,i.bv)((()=>{U.value.fid&&k()})),(e,t)=>{const n=r.EZ,s=l.nH,m=o.i,h=l.ly,k=a.ElButton;return(0,i.wg)(),(0,i.j4)((0,d.SU)(c["default"]),{modelValue:(0,d.SU)(_),"onUpdate:modelValue":[t[4]||(t[4]=e=>(0,d.dq)(_)?_.value=e:null),b],title:(0,d.SU)(v),width:"30rem"},{footer:(0,i.w5)((()=>[(0,i.Wm)(k,{onClick:b},{default:(0,i.w5)((()=>[(0,i.Uk)("取消")])),_:1}),(0,i.Wm)(k,{type:"primary",onClick:S},{default:(0,i.w5)((()=>[(0,i.Uk)("确定")])),_:1})])),default:(0,i.w5)((()=>[(0,i.Wm)(h,{ref_key:"machineRoomFormRef",ref:f,"label-position":"top",model:(0,d.SU)(U),rules:p,onSubmit:t[3]||(t[3]=(0,u.iM)((()=>{}),["prevent"]))},{default:(0,i.w5)((()=>[(0,i.Wm)(s,{label:"资产名称",prop:"name"},{default:(0,i.w5)((()=>[(0,i.Wm)(n,{modelValue:(0,d.SU)(U).name,"onUpdate:modelValue":t[0]||(t[0]=e=>(0,d.SU)(U).name=e),modelModifiers:{trim:!0},placeholder:"请输入资产名称",maxlength:"100"},null,8,["modelValue"])])),_:1}),(0,i.Wm)(s,{label:"选择上级分类",prop:"fid"},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{modelValue:(0,d.SU)(U).fid,"onUpdate:modelValue":t[1]||(t[1]=e=>(0,d.SU)(U).fid=e),class:"input-select","check-strictly":"",lazy:"","default-expanded-keys":(0,d.SU)(w),props:y,"node-key":"inventory_typeid",load:g,"render-after-expand":!1},null,8,["modelValue","default-expanded-keys"])])),_:1}),(0,i.Wm)(s,{label:"描述",prop:"description"},{default:(0,i.w5)((()=>[(0,i.Wm)(n,{modelValue:(0,d.SU)(U).description,"onUpdate:modelValue":t[2]||(t[2]=e=>(0,d.SU)(U).description=e),modelModifiers:{trim:!0},rows:3,maxlength:"255",type:"textarea",placeholder:"请输入"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue","title"])}}};function m(e){e.__source="src/views/assets-management/components/AssetTypeInfo.vue"}var f=n(83744);"function"===typeof m&&m(p);const y=(0,f.Z)(p,[["__scopeId","data-v-617ea7c9"]]);var v=y}}]);