/*!
 *  build: Vue  Admin Plus
 *  copyright: vue-admin-beautiful.com
 *  time: 2023-08-28 11:15:16
 */
"use strict";(self["webpackChunkadmin_plus"]=self["webpackChunkadmin_plus"]||[]).push([[1110],{88939:function(e,a,l){l.r(a),l.d(a,{default:function(){return _}});var t=l(49530),n=(l(24549),l(80773),l(21211)),o=(l(12791),l(38492)),r=(l(94687),l(79303),l(6715),l(57847)),u=(l(43872),l(66252)),i=l(2262),m=l(49963),d=l(39049),s=l(12688),c={__name:"OrganizationInfo",props:{organizationData:{type:Object,default:()=>({})},title:{type:String,default:"组织"},type:{type:String,default:"new"},visible:{type:Boolean,default:!1}},emits:["cancel","confirm"],setup(e,{emit:a}){const l=e,c={name:[{required:!0,message:"请输入部门名称",trigger:"blur"}]},p=(0,u.f3)("$baseMessage"),f=(0,i.iH)(null),{title:g,type:_,visible:v,organizationData:w}=(0,i.BK)(l),h=(0,i.qj)({orgChargeList:[]});function U(){(0,s.lE)({}).then((e=>{!e.error&&e.length&&(h.orgChargeList=e)})).catch((e=>{console.log("err :>> ",e)}))}function b(){a("cancel")}function S(){f.value.validate((e=>{if(e){const e={name:w.value.name};w.value.manager_id&&(e.manager_id=w.value.manager_id),w.value.memo&&(e.memo=w.value.memo),"new"===_.value?(0,s.xE)(e).then((e=>{e.error||(p("创建成功","success"),a("cancel"),a("confirm"))})):(e.usrgrpid=w.value.usrgrpid,(0,s.A6)(e).then((e=>{e.error||(p("创建成功","success"),a("cancel"),a("confirm"))})))}}))}return(0,u.bv)((()=>{U()})),(e,a)=>{const l=r.EZ,s=n.nH,p=o.BT,_=o.ElSelect,U=n.ly,y=t.ElButton;return(0,u.wg)(),(0,u.j4)((0,i.SU)(d["default"]),{modelValue:(0,i.SU)(v),"onUpdate:modelValue":[a[4]||(a[4]=e=>(0,i.dq)(v)?v.value=e:null),b],title:(0,i.SU)(g),width:"30rem"},{footer:(0,u.w5)((()=>[(0,u.Wm)(y,{onClick:b},{default:(0,u.w5)((()=>[(0,u.Uk)("取消")])),_:1}),(0,u.Wm)(y,{type:"primary",onClick:S},{default:(0,u.w5)((()=>[(0,u.Uk)("确定")])),_:1})])),default:(0,u.w5)((()=>[(0,u.Wm)(U,{ref_key:"organizationFormRef",ref:f,"label-position":"top",model:(0,i.SU)(w),rules:c,onSubmit:a[3]||(a[3]=(0,m.iM)((()=>{}),["prevent"]))},{default:(0,u.w5)((()=>[(0,u.Wm)(s,{label:"组织名称",prop:"name"},{default:(0,u.w5)((()=>[(0,u.Wm)(l,{modelValue:(0,i.SU)(w).name,"onUpdate:modelValue":a[0]||(a[0]=e=>(0,i.SU)(w).name=e),modelModifiers:{trim:!0},placeholder:"请输入组织名称",maxlength:"100"},null,8,["modelValue"])])),_:1}),(0,u.Wm)(s,{label:"组织负责人",prop:"manager_id"},{default:(0,u.w5)((()=>[(0,u.Wm)(_,{modelValue:(0,i.SU)(w).manager_id,"onUpdate:modelValue":a[1]||(a[1]=e=>(0,i.SU)(w).manager_id=e),placeholder:"请选择组织负责人",class:"input-select"},{default:(0,u.w5)((()=>[((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)((0,i.SU)(h).orgChargeList,(e=>((0,u.wg)(),(0,u.j4)(p,{key:e.userid,label:e.username,value:e.userid},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,u.Wm)(s,{label:"备注",prop:"memo"},{default:(0,u.w5)((()=>[(0,u.Wm)(l,{modelValue:(0,i.SU)(w).memo,"onUpdate:modelValue":a[2]||(a[2]=e=>(0,i.SU)(w).memo=e),modelModifiers:{trim:!0},rows:3,maxlength:"255",type:"textarea",placeholder:"请输入"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue","title"])}}};function p(e){e.__source="src/views/system/user/components/OrganizationInfo.vue"}var f=l(83744);"function"===typeof p&&p(c);const g=(0,f.Z)(c,[["__scopeId","data-v-2af3c0a8"]]);var _=g}}]);