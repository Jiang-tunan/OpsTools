/*!
 *  build: Vue  Admin Plus
 *  copyright: vue-admin-beautiful.com
 *  time: 2023-08-28 11:15:16
 */
"use strict";(self["webpackChunkadmin_plus"]=self["webpackChunkadmin_plus"]||[]).push([[7240,7881],{34665:function(e,a,t){t.r(a),t.d(a,{default:function(){return _}});var n=t(58818),i=t(35068),l=t(49530),o=(t(24549),t(80773),t(48499)),r=t(21211),s=(t(12791),t(6715),t(57847)),u=(t(43872),t(57658),t(66252)),c=t(2262),m=t(49963),f=t(3577),d=t(5743),p=t(22076),h=t(57163);const w={class:"manufacturer-info-container"};var v={__name:"ManufacturerInfo",setup(e){const a=(0,u.RC)((()=>Promise.all([t.e(922),t.e(4226)]).then(t.bind(t,41544)))),v=(0,u.f3)("$baseConfirm"),b=(0,u.f3)("$baseMessage"),y=(0,u.f3)("$baseTableHeight"),g=(0,c.iH)(null),_=(0,c.iH)(null),U=[{label:"厂商简称",prop:"name",tooltip:!0},{label:"中文名称",prop:"chinesename",tooltip:!0},{label:"公司全称",prop:"company",tooltip:!0},{label:"官方站点",prop:"website",tooltip:!0},{label:"是否国产",prop:"isDomestic",tooltip:!0,isRender:!0},{label:"是否显示中文",prop:"showChinese",isRender:!0},{align:"right",fixed:"right",label:"操作",width:"200",prop:"operation",isRender:!0}],k=(0,c.iH)({limit:10,current:1,searchByAny:!0,search:{name:"",company:"",chinesename:""},output:"extend"}),C=(0,c.iH)([]),S=(0,c.qj)({height:y(3)-30,total:0,listLoading:!0,selectRows:[],manufacturerInfoData:{visible:!1,title:"新建厂商信息",type:"new",data:{}}}),D=e=>{k.value.limit=e,L()},I=e=>{k.value.current=e,L()},W=()=>{k.value.current=1,L()},R=e=>{S.selectRows=e},x=()=>{S.height=(0,p.NC)(g,1/3+3.5,"remToPx")};function L(){S.listLoading=!0,k.value.search.company=k.value.search.name,k.value.search.chinesename=k.value.search.name,(0,h.sb)(k.value).then((e=>{S.listLoading=!1,e.error||(C.value=e,S.total=Number(e[0]?.total||"0"))})).catch((e=>{S.listLoading=!1,console.log("error :>> ",e)}))}function z(e){const a=[];if(e.manufacturerid?a.push(e.manufacturerid):S.selectRows.forEach((e=>{a.push(e.manufacturerid)})),!a.length)return!1;v("你确定要删除吗",null,"delete",(async()=>{(0,h.Kl)(a).then((e=>{e.error||(b("删除成功","success"),L())})).catch((e=>{console.log("err :>> ",e)}))}))}function H(){S.manufacturerInfoData={visible:!0,title:"新建厂商信息",type:"new",data:{}}}function Z(e){S.manufacturerInfoData={visible:!0,title:"编辑厂商信息",type:"edit",data:{name:e.name,chinesename:e.chinesename,company:e.company,website:e.website,isDomestic:e.isDomestic,showChinese:e.showChinese,manufacturerid:e.manufacturerid}}}function E(){S.manufacturerInfoData.visible=!1}return(0,u.wF)((()=>{window.addEventListener("resize",x)})),(0,u.Ah)((()=>{window.removeEventListener("resize",x)})),x(),(0,u.bv)((()=>{L()})),(e,t)=>{const p=s.EZ,h=r.nH,v=r.ly,b=o.Z,y=l.ElButton,g=i.Z,x=n.Z;return(0,u.wg)(),(0,u.iD)("div",w,[(0,u.Wm)(x,null,{default:(0,u.w5)((()=>[(0,u.Wm)(b,{span:12},{default:(0,u.w5)((()=>[(0,u.Wm)(v,{class:"query-info-form",inline:"","label-width":"0",model:(0,c.SU)(k),onSubmit:t[1]||(t[1]=(0,m.iM)((()=>{}),["prevent"]))},{default:(0,u.w5)((()=>[(0,u.Wm)(h,{label:"",class:"form-name"},{default:(0,u.w5)((()=>[(0,u.Wm)(p,{modelValue:(0,c.SU)(k).search.name,"onUpdate:modelValue":t[0]||(t[0]=e=>(0,c.SU)(k).search.name=e),placeholder:"请输入厂商简称/中文名称/公司全称",clearable:"",onChange:W},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1}),(0,u.Wm)(g,{span:12},{default:(0,u.w5)((()=>[(0,u.Wm)(y,{disabled:!(0,c.SU)(S).selectRows.length,onClick:z},{default:(0,u.w5)((()=>[(0,u.Uk)(" 删除 ")])),_:1},8,["disabled"]),(0,u.Wm)(y,{type:"primary",onClick:H},{default:(0,u.w5)((()=>[(0,u.Uk)("新增")])),_:1})])),_:1})])),_:1}),(0,u.Wm)(d["default"],{ref_key:"manufacturerTableRef",ref:_,"max-height":(0,c.SU)(S).height,"class-name":"manufacturer-info-table","list-loading":(0,c.SU)(S).listLoading,"list-data":(0,c.SU)(C),"column-list":U,total:(0,c.SU)(S).total,"page-no":(0,c.SU)(k).current,"page-size":(0,c.SU)(k).limit,onSizeChange:D,onCurrentChange:I,onSelectRows:R},{isDomestic:(0,u.w5)((({row:e})=>[(0,u.Uk)((0,f.zw)(e.isDomestic?"是":"否"),1)])),showChinese:(0,u.w5)((({row:e})=>[(0,u.Uk)((0,f.zw)(e.showChinese?"是":"否"),1)])),operation:(0,u.w5)((({row:e})=>[(0,u.Wm)(y,{text:"",type:"primary",onClick:a=>Z(e)},{default:(0,u.w5)((()=>[(0,u.Uk)(" 编辑 ")])),_:2},1032,["onClick"]),(0,u.Wm)(y,{text:"",type:"primary",onClick:a=>z(e)},{default:(0,u.w5)((()=>[(0,u.Uk)(" 删除 ")])),_:2},1032,["onClick"])])),_:1},8,["max-height","list-loading","list-data","total","page-no","page-size"]),(0,c.SU)(S).manufacturerInfoData.visible?((0,u.wg)(),(0,u.j4)((0,c.SU)(a),{key:0,"manufacturer-info-data":(0,c.SU)(S).manufacturerInfoData.data,title:(0,c.SU)(S).manufacturerInfoData.title,type:(0,c.SU)(S).manufacturerInfoData.type,visible:(0,c.SU)(S).manufacturerInfoData.visible,onCancel:E,onConfirm:L},null,8,["manufacturer-info-data","title","type","visible"])):(0,u.kq)("",!0)])}}};function b(e){e.__source="src/views/system/device-type/ManufacturerInfo.vue"}var y=t(83744);"function"===typeof b&&b(v);const g=(0,y.Z)(v,[["__scopeId","data-v-ce0e6e06"]]);var _=g},82302:function(e,a,t){t.r(a),t.d(a,{default:function(){return f}});var n=t(63949),i=(t(24549),t(10457),t(56609),t(66252)),l=t(84094),o=t(34665);const r={class:"device-type-manage-content"};var s={__name:"index",setup(e){const a=[{name:"设备类型",key:l["default"]},{name:"厂商信息",key:o["default"]}];return(e,t)=>{const l=n.p8,o=n.Ub;return(0,i.wg)(),(0,i.iD)("div",r,[(0,i.Wm)(o,{"tab-position":"left",class:"device-type-manage-tabs"},{default:(0,i.w5)((()=>[((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(a,((e,a)=>(0,i.Wm)(l,{key:a,label:e.name,lazy:!0},{default:(0,i.w5)((()=>[((0,i.wg)(),(0,i.j4)((0,i.LL)(e.key)))])),_:2},1032,["label"]))),64))])),_:1})])}}};function u(e){e.__source="src/views/system/device-type/index.vue"}var c=t(83744);"function"===typeof u&&u(s);const m=(0,c.Z)(s,[["__scopeId","data-v-2921992e"]]);var f=m}}]);