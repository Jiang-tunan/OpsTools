/*!
 *  build: Vue  Admin Plus
 *  copyright: vue-admin-beautiful.com
 *  time: 2023-08-28 11:15:16
 */
"use strict";(self["webpackChunkadmin_plus"]=self["webpackChunkadmin_plus"]||[]).push([[3067],{12679:function(e,l,a){a.r(l),a.d(l,{default:function(){return g}});var o=a(49530),t=(a(24549),a(80773),a(21211)),u=(a(12791),a(38492)),n=(a(94687),a(79303),a(6715),a(57847)),d=(a(43872),a(66252)),r=a(2262),i=a(49963),s=a(39049),m=a(12688),c=a(32134),f={__name:"MachineRoomInfo",props:{machineRoomCaseData:{type:Object,default:()=>({})},title:{type:String,default:"组织"},type:{type:String,default:"new"},visible:{type:Boolean,default:!1}},emits:["cancel","confirm"],setup(e,{emit:l}){const a=e,f={name:[{required:!0,message:"请输入机房名称",trigger:"blur"}]},p=(0,d.f3)("$baseMessage"),v=(0,r.iH)(null),{title:h,type:g,visible:w,machineRoomCaseData:U}=(0,r.BK)(a),_=(0,r.qj)({orgChargeList:[]});function b(){(0,m.lE)({}).then((e=>{e.error||(_.orgChargeList=e)})).catch((e=>{console.log("err :>> ",e)}))}function S(){l("cancel")}function y(){v.value.validate((e=>{if(e){const e={name:U.value.name,idcid:U.value.idcid};U.value.address&&(e.address=U.value.address),U.value.userid&&(e.userid=U.value.userid),"new"===g.value?(0,c.vP)(e).then((e=>{e.error||(p("创建成功","success"),l("cancel"),l("confirm"))})):(console.log("houseid :>> ",U.value.houseid),e.houseid=U.value.houseid,(0,c.iv)(e).then((e=>{e.error||(p("编辑成功","success"),l("cancel"),l("confirm"))})))}}))}return(0,d.bv)((()=>{b()})),(e,l)=>{const a=n.EZ,m=t.nH,c=u.BT,p=u.ElSelect,g=t.ly,b=o.ElButton;return(0,d.wg)(),(0,d.j4)((0,r.SU)(s["default"]),{modelValue:(0,r.SU)(w),"onUpdate:modelValue":[l[4]||(l[4]=e=>(0,r.dq)(w)?w.value=e:null),S],title:(0,r.SU)(h),width:"30rem"},{footer:(0,d.w5)((()=>[(0,d.Wm)(b,{onClick:S},{default:(0,d.w5)((()=>[(0,d.Uk)("取消")])),_:1}),(0,d.Wm)(b,{type:"primary",onClick:y},{default:(0,d.w5)((()=>[(0,d.Uk)("确定")])),_:1})])),default:(0,d.w5)((()=>[(0,d.Wm)(g,{ref_key:"machineRoomFormRef",ref:v,"label-position":"top",model:(0,r.SU)(U),rules:f,onSubmit:l[3]||(l[3]=(0,i.iM)((()=>{}),["prevent"]))},{default:(0,d.w5)((()=>[(0,d.Wm)(m,{label:"机房名称",prop:"name"},{default:(0,d.w5)((()=>[(0,d.Wm)(a,{modelValue:(0,r.SU)(U).name,"onUpdate:modelValue":l[0]||(l[0]=e=>(0,r.SU)(U).name=e),modelModifiers:{trim:!0},placeholder:"请输入机房名称",maxlength:"100"},null,8,["modelValue"])])),_:1}),(0,d.Wm)(m,{label:"负责人",prop:"userid"},{default:(0,d.w5)((()=>[(0,d.Wm)(p,{modelValue:(0,r.SU)(U).userid,"onUpdate:modelValue":l[1]||(l[1]=e=>(0,r.SU)(U).userid=e),placeholder:"请选择负责人",class:"input-select"},{default:(0,d.w5)((()=>[((0,d.wg)(!0),(0,d.iD)(d.HY,null,(0,d.Ko)((0,r.SU)(_).orgChargeList,(e=>((0,d.wg)(),(0,d.j4)(c,{key:e.userid,label:e.username,value:e.userid},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,d.Wm)(m,{label:"地址",prop:"address"},{default:(0,d.w5)((()=>[(0,d.Wm)(a,{modelValue:(0,r.SU)(U).address,"onUpdate:modelValue":l[2]||(l[2]=e=>(0,r.SU)(U).address=e),modelModifiers:{trim:!0},rows:3,maxlength:"255",type:"textarea",placeholder:"请输入"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue","title"])}}};function p(e){e.__source="src/views/system/idc/component/MachineRoomInfo.vue"}var v=a(83744);"function"===typeof p&&p(f);const h=(0,v.Z)(f,[["__scopeId","data-v-3f7a39ca"]]);var g=h}}]);