/*!
 *  build: Vue  Admin Plus
 *  copyright: vue-admin-beautiful.com
 *  time: 2023-08-28 11:15:16
 */
"use strict";(self["webpackChunkadmin_plus"]=self["webpackChunkadmin_plus"]||[]).push([[211],{94577:function(e,t,n){n.d(t,{Nl:function(){return r},Oc:function(){return l},Rt:function(){return i},_T:function(){return a}});var o=n(52806);function a(e){return(0,o.Z)({params:{method:"inventorytype.get",data:e}})}function r(e){return(0,o.Z)({params:{method:"inventorytype.create",data:e}})}function i(e){return(0,o.Z)({params:{method:"inventorytype.update",data:e}})}function l(e){return(0,o.Z)({params:{method:"inventorytype.delete",data:e}})}},9686:function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});var o=n(49530),a=(n(24549),n(80773),n(21211)),r=(n(12791),n(6715),n(53202)),i=(n(82506),n(57658),n(66252)),l=n(2262),u=n(49963),d=n(39049),s=n(94577),c=n(18907),p={__name:"MoveAssetTypeInfo",props:{moveInfoData:{type:Object,default:()=>({})},title:{type:String,default:"移动资产"},visible:{type:Boolean,default:!1}},emits:["cancel","confirm"],setup(e,{emit:t}){const n=e,p={inventory_typeid:[{required:!0,message:"请选择资产类型",trigger:"blur"}]},f=(0,i.f3)("$baseMessage"),y=(0,l.iH)(null),v=(0,l.iH)([]),m={isLeaf:e=>!e.hasson,label:"name",id:"inventory_typeid"},{title:_,visible:h,moveInfoData:b}=(0,l.BK)(n),k=(e,t)=>{(0,s._T)({fid:e?.data?.inventory_typeid||"0"}).then((e=>{!e.error&&e.length&&t(e)})).catch((e=>{console.log("err :>> ",e)}))};function g(){t("cancel")}function w(){y.value.validate((e=>{if(e){const e=[];b.value.hostids.forEach((t=>{e.push({hostid:t,inventory_typeid:b.value.inventory_typeid})})),(0,c.KW)(e).then((e=>{e.error||(f("移动资产成功","success"),t("cancel"),t("confirm"))}))}}))}function U(){(0,s._T)({inventory_typeids:[b.value.inventory_typeid]}).then((e=>{!e.error&&e.length&&(v.value=e[0].fathers)})).catch((e=>{console.log("err :>> ",e)}))}return(0,i.bv)((()=>{b.value.inventory_typeid&&U()})),(e,t)=>{const n=r.i,s=a.nH,c=a.ly,f=o.ElButton;return(0,i.wg)(),(0,i.j4)((0,l.SU)(d["default"]),{modelValue:(0,l.SU)(h),"onUpdate:modelValue":[t[2]||(t[2]=e=>(0,l.dq)(h)?h.value=e:null),g],title:(0,l.SU)(_),width:"30rem"},{footer:(0,i.w5)((()=>[(0,i.Wm)(f,{onClick:g},{default:(0,i.w5)((()=>[(0,i.Uk)("取消")])),_:1}),(0,i.Wm)(f,{type:"primary",onClick:w},{default:(0,i.w5)((()=>[(0,i.Uk)("确定")])),_:1})])),default:(0,i.w5)((()=>[(0,i.Wm)(c,{ref_key:"inventoryFormRef",ref:y,"label-position":"top",model:(0,l.SU)(b),rules:p,onSubmit:t[1]||(t[1]=(0,u.iM)((()=>{}),["prevent"]))},{default:(0,i.w5)((()=>[(0,i.Wm)(s,{label:"选择资产类型",prop:"inventory_typeid"},{default:(0,i.w5)((()=>[(0,i.Wm)(n,{modelValue:(0,l.SU)(b).inventory_typeid,"onUpdate:modelValue":t[0]||(t[0]=e=>(0,l.SU)(b).inventory_typeid=e),class:"input-select","check-strictly":"","default-expanded-keys":(0,l.SU)(v),lazy:"",props:m,"node-key":"inventory_typeid",load:k,"render-after-expand":!1},null,8,["modelValue","default-expanded-keys"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue","title"])}}};function f(e){e.__source="src/views/assets-management/components/MoveAssetTypeInfo.vue"}var y=n(83744);"function"===typeof f&&f(p);const v=(0,y.Z)(p,[["__scopeId","data-v-3513b3a4"]]);var m=v}}]);