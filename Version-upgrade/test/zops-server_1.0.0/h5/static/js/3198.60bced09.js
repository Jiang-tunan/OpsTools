/*!
 *  build: Vue  Admin Plus
 *  copyright: vue-admin-beautiful.com
 *  time: 2023-08-28 11:15:16
 */
"use strict";(self["webpackChunkadmin_plus"]=self["webpackChunkadmin_plus"]||[]).push([[3198,9527,3067],{32134:function(e,t,a){a.d(t,{IP:function(){return l},MB:function(){return u},PN:function(){return o},YZ:function(){return d},iv:function(){return s},qb:function(){return c},tS:function(){return r},vP:function(){return i}});var n=a(52806);function u(e){return(0,n.Z)({params:{method:"idc.get",data:e}})}function l(e){return(0,n.Z)({params:{method:"idc.create",data:e}})}function r(e){return(0,n.Z)({params:{method:"idc.update",data:e}})}function o(e){return(0,n.Z)({params:{method:"idc.delete",data:e}})}function d(e){return(0,n.Z)({params:{method:"house.get",data:e}})}function i(e){return(0,n.Z)({params:{method:"house.create",data:e}})}function s(e){return(0,n.Z)({params:{method:"house.update",data:e}})}function c(e){return(0,n.Z)({params:{method:"house.delete",data:e}})}},12679:function(e,t,a){a.r(t),a.d(t,{default:function(){return g}});var n=a(49530),u=(a(24549),a(80773),a(21211)),l=(a(12791),a(38492)),r=(a(94687),a(79303),a(6715),a(57847)),o=(a(43872),a(66252)),d=a(2262),i=a(49963),s=a(39049),c=a(12688),m=a(32134),f={__name:"MachineRoomInfo",props:{machineRoomCaseData:{type:Object,default:()=>({})},title:{type:String,default:"组织"},type:{type:String,default:"new"},visible:{type:Boolean,default:!1}},emits:["cancel","confirm"],setup(e,{emit:t}){const a=e,f={name:[{required:!0,message:"请输入机房名称",trigger:"blur"}]},p=(0,o.f3)("$baseMessage"),h=(0,d.iH)(null),{title:v,type:g,visible:w,machineRoomCaseData:U}=(0,d.BK)(a),_=(0,d.qj)({orgChargeList:[]});function b(){(0,c.lE)({}).then((e=>{e.error||(_.orgChargeList=e)})).catch((e=>{console.log("err :>> ",e)}))}function S(){t("cancel")}function y(){h.value.validate((e=>{if(e){const e={name:U.value.name,idcid:U.value.idcid};U.value.address&&(e.address=U.value.address),U.value.userid&&(e.userid=U.value.userid),"new"===g.value?(0,m.vP)(e).then((e=>{e.error||(p("创建成功","success"),t("cancel"),t("confirm"))})):(console.log("houseid :>> ",U.value.houseid),e.houseid=U.value.houseid,(0,m.iv)(e).then((e=>{e.error||(p("编辑成功","success"),t("cancel"),t("confirm"))})))}}))}return(0,o.bv)((()=>{b()})),(e,t)=>{const a=r.EZ,c=u.nH,m=l.BT,p=l.ElSelect,g=u.ly,b=n.ElButton;return(0,o.wg)(),(0,o.j4)((0,d.SU)(s["default"]),{modelValue:(0,d.SU)(w),"onUpdate:modelValue":[t[4]||(t[4]=e=>(0,d.dq)(w)?w.value=e:null),S],title:(0,d.SU)(v),width:"30rem"},{footer:(0,o.w5)((()=>[(0,o.Wm)(b,{onClick:S},{default:(0,o.w5)((()=>[(0,o.Uk)("取消")])),_:1}),(0,o.Wm)(b,{type:"primary",onClick:y},{default:(0,o.w5)((()=>[(0,o.Uk)("确定")])),_:1})])),default:(0,o.w5)((()=>[(0,o.Wm)(g,{ref_key:"machineRoomFormRef",ref:h,"label-position":"top",model:(0,d.SU)(U),rules:f,onSubmit:t[3]||(t[3]=(0,i.iM)((()=>{}),["prevent"]))},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{label:"机房名称",prop:"name"},{default:(0,o.w5)((()=>[(0,o.Wm)(a,{modelValue:(0,d.SU)(U).name,"onUpdate:modelValue":t[0]||(t[0]=e=>(0,d.SU)(U).name=e),modelModifiers:{trim:!0},placeholder:"请输入机房名称",maxlength:"100"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(c,{label:"负责人",prop:"userid"},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{modelValue:(0,d.SU)(U).userid,"onUpdate:modelValue":t[1]||(t[1]=e=>(0,d.SU)(U).userid=e),placeholder:"请选择负责人",class:"input-select"},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,d.SU)(_).orgChargeList,(e=>((0,o.wg)(),(0,o.j4)(m,{key:e.userid,label:e.username,value:e.userid},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,o.Wm)(c,{label:"地址",prop:"address"},{default:(0,o.w5)((()=>[(0,o.Wm)(a,{modelValue:(0,d.SU)(U).address,"onUpdate:modelValue":t[2]||(t[2]=e=>(0,d.SU)(U).address=e),modelModifiers:{trim:!0},rows:3,maxlength:"255",type:"textarea",placeholder:"请输入"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue","title"])}}};function p(e){e.__source="src/views/system/idc/component/MachineRoomInfo.vue"}var h=a(83744);"function"===typeof p&&p(f);const v=(0,h.Z)(f,[["__scopeId","data-v-3f7a39ca"]]);var g=v}}]);