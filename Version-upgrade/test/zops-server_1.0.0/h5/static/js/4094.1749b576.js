/*!
 *  build: Vue  Admin Plus
 *  copyright: vue-admin-beautiful.com
 *  time: 2023-08-28 11:15:16
 */
"use strict";(self["webpackChunkadmin_plus"]=self["webpackChunkadmin_plus"]||[]).push([[4094],{18907:function(e,t,n){n.d(t,{KW:function(){return i},Kj:function(){return f},Ld:function(){return l},Ob:function(){return p},Ox:function(){return s},Wh:function(){return c},XF:function(){return o},bm:function(){return u},uX:function(){return r},v0:function(){return d},y2:function(){return m}});var a=n(52806);function o(e){return(0,a.Z)({params:{method:"host.get",data:e}})}function r(e){return(0,a.Z)({params:{method:"host.exportinventory",data:e}})}function i(e){return(0,a.Z)({params:{method:"host.update",data:e}})}function l(e){return(0,a.Z)({params:{method:"host.create",data:e}})}function u(e){return(0,a.Z)({params:{method:"host.discoverupdate",data:e}})}function s(e){return(0,a.Z)({params:{method:"host.delete",data:e}})}function d(e){return(0,a.Z)({params:{method:"hostgroup.get",data:e}})}function c(e){return(0,a.Z)({params:{method:"modeltype.create",data:e}})}function p(e){return(0,a.Z)({params:{method:"modeltype.get",data:e}})}function m(e){return(0,a.Z)({params:{method:"modeltype.update",data:e}})}function f(e){return(0,a.Z)({params:{method:"modeltype.delete",data:e}})}},57163:function(e,t,n){n.d(t,{Kl:function(){return i},kU:function(){return l},s8:function(){return r},sb:function(){return o}});var a=n(52806);function o(e){return(0,a.Z)({params:{method:"manufacturer.get",data:e}})}function r(e){return(0,a.Z)({params:{method:"manufacturer.create",data:e}})}function i(e){return(0,a.Z)({params:{method:"manufacturer.delete",data:e}})}function l(e){return(0,a.Z)({params:{method:"manufacturer.update",data:e}})}},22076:function(e,t,n){function a(e){const t=document.documentElement.clientWidth;return t>=1440?16*e:e*Math.round(t/1440*16)}function o(e,t,n){let o=0;return o="remToPx"===n?a(t):t,e?.value?.offsetHeight?e.value.offsetHeight-o:e?.offsetHeight?e.offsetHeight-o:void 0}function r(e,t){const n=new Map;for(const a of e)n.has(a[t])||n.set(a[t],a);return[...n.values()]}function i(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)}))}function l(e){let t=parseInt(e),n=0,a=0;return t>60&&(n=parseInt(t/60),t=parseInt(t%60),n>60&&(a=parseInt(n/60),n=parseInt(n%60))),{second:t,minute:n,hour:a}}n.d(t,{BE:function(){return i},NC:function(){return o},Nb:function(){return r},ZC:function(){return l}})},35068:function(e,t,n){n.d(t,{Z:function(){return s}});var a=n(74842),o=(n(24549),n(94851),n(66252));const r={class:"right-panel"};var i=(0,o.aZ)({__name:"VabQueryFormRightPanel",props:{span:{type:Number,default:10}},setup(e){return(t,n)=>{const i=a.Dv;return(0,o.wg)(),(0,o.j4)(i,{lg:e.span,md:24,sm:24,xl:e.span,xs:24},{default:(0,o.w5)((()=>[(0,o._)("div",r,[(0,o.WI)(t.$slots,"default")])])),_:3},8,["lg","xl"])}}});function l(e){e.__source="library/components/VabQueryForm/components/VabQueryFormRightPanel.vue"}"function"===typeof l&&l(i);const u=i;var s=u},48499:function(e,t,n){n.d(t,{Z:function(){return c}});var a=n(74842),o=(n(24549),n(94851),n(66252));const r={class:"top-panel"};function i(e,t){const n=a.Dv;return(0,o.wg)(),(0,o.j4)(n,{span:24},{default:(0,o.w5)((()=>[(0,o._)("div",r,[(0,o.WI)(e.$slots,"default")])])),_:3})}function l(e){e.__source="library/components/VabQueryForm/components/VabQueryFormTopPanel.vue"}var u=n(83744);const s={};"function"===typeof l&&l(s);const d=(0,u.Z)(s,[["render",i]]);var c=d},58818:function(e,t,n){n.d(t,{Z:function(){return d}});var a=n(28314),o=(n(24549),n(7436),n(66252));function r(e,t){const n=a.dq;return(0,o.wg)(),(0,o.j4)(n,{class:"vab-query-form",gutter:0},{default:(0,o.w5)((()=>[(0,o.WI)(e.$slots,"default",{},void 0,!0)])),_:3})}function i(e){e.__source="library/components/VabQueryForm/index.vue"}var l=n(83744);const u={};"function"===typeof i&&i(u);const s=(0,l.Z)(u,[["render",r],["__scopeId","data-v-4d22213e"]]);var d=s},5743:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var a=n(64654),o=(n(24549),n(16135),n(91067)),r=(n(78526),n(47546)),i=(n(49653),n(37965)),l=(n(82880),n(60717),n(66252)),u=n(3577),s=n(2262),d={__name:"CustomTable",props:{columnList:{type:Array,default:()=>[]},listData:{type:Array,default:()=>[]},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},total:{type:Number,default:0},pageNo:{type:Number,default:0},pageSize:{type:Number,default:20},maxHeight:{type:[String,Number],default:"auto"},className:{type:String,default:""},idkey:{type:String,default:""},listLoading:{type:Boolean,default:!0},isIndex:{type:Boolean,default:!1},isSelection:{type:Boolean,default:!0},isPagination:{type:Boolean,default:!0},stripe:{type:Boolean,default:!0},spanMethod:{type:Function,default:()=>{}}},emits:["sizeChange","currentChange","selectRows","sortChange","spanMethod"],setup(e,{expose:t,emit:n}){const d=(0,s.iH)(null),c=e=>{n("sizeChange",e)},p=e=>{n("currentChange",e)},m=e=>{n("selectRows",e)},f=e=>{n("sortChange",e)};function g(e){e&&(console.log("row :>> ",e),d.value.toggleRowSelection(e))}return(0,l.dl)((()=>{d?.value?.doLayout()})),(0,l.bv)((()=>{d.value.doLayout()})),t({tableRef:d,toggleRowSelection:g}),(t,n)=>{const s=r.$Y,g=i.GT,h=r.eI,y=o.R,w=a.t;return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.wy)(((0,l.wg)(),(0,l.j4)(h,{ref_key:"tableRef",ref:d,class:(0,u.C_)(["custom-table",e.className]),data:e.listData,border:!0,"row-key":e.idkey,"max-height":e.maxHeight,"span-method":e.spanMethod,stripe:e.stripe,onSelectionChange:m,onSortChange:f},{empty:(0,l.w5)((()=>[(0,l.Wm)(g,{description:"暂无数据"})])),default:(0,l.w5)((()=>[e.isSelection?((0,l.wg)(),(0,l.j4)(s,{key:0,fixed:"left",type:"selection",width:"55"})):(0,l.kq)("",!0),e.isIndex?((0,l.wg)(),(0,l.j4)(s,{key:1,fixed:"left",label:"序号",type:"index",width:"55"})):(0,l.kq)("",!0),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.columnList,(e=>((0,l.wg)(),(0,l.j4)(s,{key:e.prop,label:e.label,prop:e.prop,"show-overflow-tooltip":e.tooltip,"class-name":"operation"===e.prop?"operation-btns "+e.className:e.className,align:e.align?e.align:"left",sortable:e.sortable,width:e.width,"min-width":e.minWidth,fixed:"true"==e.fixed||"right"==e.fixed&&"right"},(0,l.Nv)({_:2},[e.isHeaderRender?{name:"header",fn:(0,l.w5)((()=>[(0,l.WI)(t.$slots,e.prop+"Header",{column:e})])),key:"0"}:void 0,e.isRender?{name:"default",fn:(0,l.w5)((({row:n,$index:a,column:o})=>[(0,l.WI)(t.$slots,e.prop,{row:n,index:a,column:o})])),key:"1"}:{name:"default",fn:(0,l.w5)((({row:t})=>[(0,l._)("span",{class:"name"},(0,u.zw)(t[e.prop]||"---"),1)])),key:"2"}]),1032,["label","prop","show-overflow-tooltip","class-name","align","sortable","width","min-width","fixed"])))),128))])),_:3},8,["class","data","row-key","max-height","span-method","stripe"])),[[w,e.listLoading]]),e.isPagination?((0,l.wg)(),(0,l.j4)(y,{key:0,"current-page":e.pageNo,layout:e.layout,"page-size":e.pageSize,total:e.total,onCurrentChange:p,onSizeChange:c},null,8,["current-page","layout","page-size","total"])):(0,l.kq)("",!0)],64)}}};function c(e){e.__source="src/components/CustomTable.vue"}var p=n(83744);"function"===typeof c&&c(d);const m=(0,p.Z)(d,[["__scopeId","data-v-bdd84b16"]]);var f=m},84094:function(e,t,n){n.r(t),n.d(t,{default:function(){return Z}});var a=n(64654),o=(n(24549),n(16135),n(28314)),r=(n(7436),n(58818)),i=n(35068),l=n(49530),u=(n(80773),n(48499)),s=n(21211),d=(n(12791),n(57847)),c=(n(43872),n(6715),n(38492)),p=(n(94687),n(79303),n(74842)),m=(n(94851),n(37965)),f=(n(82880),n(57658),n(66252)),g=n(2262),h=n(3577),y=n(49963),w=n(18907),v=n(5743),b=n(22076),x=n(57163);const _=["onClick"],k={key:0,class:"empty-content"};var S={__name:"DevicesType",setup(e){const t=(0,f.RC)((()=>Promise.all([n.e(922),n.e(1108),n.e(6860),n.e(7657)]).then(n.bind(n,10125)))),S=((0,g.iH)(null),(0,f.f3)("$baseConfirm")),C=(0,f.f3)("$baseMessage"),U=(0,f.f3)("$baseTableHeight"),D=(0,g.iH)(null),Z=(0,g.iH)(null),I=[{label:"名称",prop:"name",tooltip:!0,isRender:!0},{label:"厂商",prop:"manufacturer",tooltip:!0,isRender:!0},{label:"型号",prop:"physical_model",tooltip:!0},{label:"U数",prop:"unumber",tooltip:!0},{label:"描述",prop:"description",tooltip:!0},{align:"right",fixed:"right",label:"操作",width:"200",prop:"operation",isRender:!0}],W=(0,g.iH)({limit:10,current:1,selectHostGroup:["name","groupid"],selectManufacturer:["name"],manufacturerids:null,searchByAny:!0,search:{name:"",description:""},groupids:""}),H=(0,g.iH)([{name:"全部厂商",manufacturerid:-1}]),L=(0,g.iH)([]),R=(0,g.iH)([]),z=(0,g.qj)({height:U(3)-30,treeLoading:[],total:0,listLoading:!0,selectRows:[],currentData:{},manufacturerid:-1,modelInfoData:{visible:!1,title:"新建型号",type:"new",data:{}}}),j=e=>{W.value.limit=e,B()},N=e=>{W.value.current=e,B()},T=()=>{W.value.current=1,B()},V=e=>{z.selectRows=e},q=()=>{z.height=(0,b.NC)(D,1/3+3.5,"remToPx")};function $(){(0,x.sb)({output:"extend"}).then((e=>{e.error||H.value.push(...e)})).catch((e=>{console.log("error :>> ",e)}))}function B(){z.listLoading=!0,W.value.search.description=W.value.search.name,W.value.manufacturerids=-1===z.manufacturerid?null:z.manufacturerid,(0,w.Ob)(W.value).then((e=>{z.listLoading=!1,e.error||(R.value=e)})).catch((e=>{z.listLoading=!1,console.log("error :>> ",e)}))}function F(){z.treeLoading=!0,(0,w.v0)({}).then((e=>{z.treeLoading=!1,!e.error&&e.length?(L.value=e,M(e[0])):z.listLoading=!1})).catch((e=>{z.treeLoading=!1,console.log("error :>> ",e)}))}function M(e){W.value.groupids=e.groupid,z.currentData=e,B()}function E(){const e=[];if(row.modeltypeid?e.push(row.modeltypeid):z.selectRows.forEach((t=>{e.push(t.modeltypeid)})),!e.length)return!1;S("你确定要删除吗",null,"delete",(async()=>{(0,w.Kj)(e).then((e=>{e.error||(C("删除成功","success"),B())})).catch((e=>{console.log("err :>> ",e)}))}))}function P(){z.modelInfoData={visible:!0,title:"新建型号",type:"new",data:{name:z.currentData.name,groupid:z.currentData.groupid}}}function K(e){z.modelInfoData={visible:!0,title:"编辑型号",type:"edit",data:{groupid:e.groupid,modeltypeid:e.modeltypeid,manufacturerid:e.manufacturerid,name:e.name,physical_model:e.physical_model,series:e.series,unumber:e.unumber,spec:e.spec,max_memory_count:e.max_memory_count,max_power_consumption:e.max_power_consumption,rated_power_consumption:e.rated_power_consumption,peak_power:e.peak_power,weight:e.weight,service_period:e.service_period,description:e.description,structure:e.structure}}}function Q(){z.modelInfoData.visible=!1}return(0,f.wF)((()=>{window.addEventListener("resize",q)})),(0,f.Ah)((()=>{window.removeEventListener("resize",q)})),q(),(0,f.bv)((()=>{F(),$()})),(e,n)=>{const w=m.GT,b=p.Dv,x=c.BT,S=c.ElSelect,C=s.nH,U=d.EZ,q=s.ly,$=u.Z,F=l.ElButton,Y=i.Z,A=r.Z,G=o.dq,O=a.t;return(0,f.wg)(),(0,f.j4)(G,{class:"device-type-container"},{default:(0,f.w5)((()=>[(0,f.wy)(((0,f.wg)(),(0,f.j4)(b,{xs:8,sm:6,md:5,lg:4,xl:3,class:"host-data-left"},{default:(0,f.w5)((()=>[(0,f.wy)(((0,f.wg)(),(0,f.iD)("ul",null,[((0,f.wg)(!0),(0,f.iD)(f.HY,null,(0,f.Ko)((0,g.SU)(L),(e=>((0,f.wg)(),(0,f.iD)("li",{key:e.groupid,class:(0,h.C_)([{"is-current":(0,g.SU)(z).currentData.groupid===e.groupid},"host-item"]),onClick:t=>M(e)},(0,h.zw)(e.name),11,_)))),128))])),[[O,(0,g.SU)(z).treeLoading]]),(0,g.SU)(L)?.length?(0,f.kq)("",!0):((0,f.wg)(),(0,f.iD)("div",k,[(0,f.Wm)(w,{description:"暂无数据"})]))])),_:1})),[[O,(0,g.SU)(z).treeLoading]]),(0,f.Wm)(b,{ref_key:"modelContainer",ref:D,class:"model-info-container",xs:14,sm:18,md:19,lg:20,xl:21},{default:(0,f.w5)((()=>[(0,f.Wm)(A,null,{default:(0,f.w5)((()=>[(0,f.Wm)($,{span:12},{default:(0,f.w5)((()=>[(0,f.Wm)(q,{class:"query-info-form",inline:"","label-width":"0px",model:(0,g.SU)(W),onSubmit:n[2]||(n[2]=(0,y.iM)((()=>{}),["prevent"]))},{default:(0,f.w5)((()=>[(0,f.Wm)(C,{label:"",class:"form-status"},{default:(0,f.w5)((()=>[(0,f.Wm)(S,{modelValue:(0,g.SU)(z).manufacturerid,"onUpdate:modelValue":n[0]||(n[0]=e=>(0,g.SU)(z).manufacturerid=e),placeholder:"请选择厂商",clearable:"",onChange:T},{default:(0,f.w5)((()=>[((0,f.wg)(!0),(0,f.iD)(f.HY,null,(0,f.Ko)((0,g.SU)(H),(e=>((0,f.wg)(),(0,f.j4)(x,{key:e.manufacturerid,label:e.name,value:e.manufacturerid},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,f.Wm)(C,{label:"",class:"form-name"},{default:(0,f.w5)((()=>[(0,f.Wm)(U,{modelValue:(0,g.SU)(W).search.name,"onUpdate:modelValue":n[1]||(n[1]=e=>(0,g.SU)(W).search.name=e),placeholder:"请输入型号/带外版本/描述搜索",clearable:"",onChange:T},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1}),(0,f.Wm)(Y,{span:12},{default:(0,f.w5)((()=>[(0,f.Wm)(F,{disabled:!(0,g.SU)(z).selectRows.length,onClick:E},{default:(0,f.w5)((()=>[(0,f.Uk)(" 删除 ")])),_:1},8,["disabled"]),(0,f.Wm)(F,{type:"primary",onClick:P},{default:(0,f.w5)((()=>[(0,f.Uk)("新增型号")])),_:1})])),_:1})])),_:1}),(0,f.Wm)(v["default"],{ref_key:"modelTableRef",ref:Z,"max-height":(0,g.SU)(z).height,"class-name":"model-info-table","list-loading":(0,g.SU)(z).listLoading,"list-data":(0,g.SU)(R),"column-list":I,total:(0,g.SU)(z).total,"page-no":(0,g.SU)(W).current,"page-size":(0,g.SU)(W).limit,"is-index":!0,onSizeChange:j,onCurrentChange:N,onSelectRows:V},{name:(0,f.w5)((({row:e})=>[(0,f.Uk)((0,h.zw)(e.hostgroup[0]?.name||"---"),1)])),manufacturer:(0,f.w5)((({row:e})=>[(0,f.Uk)((0,h.zw)(e.manufacturer?.name||"---"),1)])),operation:(0,f.w5)((({row:e})=>[(0,f.Wm)(F,{text:"",type:"primary",onClick:t=>K(e)},{default:(0,f.w5)((()=>[(0,f.Uk)(" 编辑 ")])),_:2},1032,["onClick"]),(0,f.Wm)(F,{text:"",type:"primary",onClick:t=>E(e)},{default:(0,f.w5)((()=>[(0,f.Uk)(" 删除 ")])),_:2},1032,["onClick"])])),_:1},8,["max-height","list-loading","list-data","total","page-no","page-size"]),(0,g.SU)(z).modelInfoData.visible?((0,f.wg)(),(0,f.j4)((0,g.SU)(t),{key:0,"model-info-data":(0,g.SU)(z).modelInfoData.data,title:(0,g.SU)(z).modelInfoData.title,type:(0,g.SU)(z).modelInfoData.type,visible:(0,g.SU)(z).modelInfoData.visible,onCancel:Q,onConfirm:B},null,8,["model-info-data","title","type","visible"])):(0,f.kq)("",!0)])),_:1},512)])),_:1})}}};function C(e){e.__source="src/views/system/device-type/DevicesType.vue"}var U=n(83744);"function"===typeof C&&C(S);const D=(0,U.Z)(S,[["__scopeId","data-v-62834647"]]);var Z=D}}]);